// JavaScript Document //
//@codekit-prepend "extra-script.js";
$(document).ready(function(){function e(){_bodyCol=$(".bodyCol").outerHeight();_navCol=$(".navCol").outerHeight();_navCol<_bodyCol?$(".navCol").height(_bodyCol):$(".bodyCol").height(_navCol)}function n(){$.ajax({url:"/ajax/admin/admin_functionality.php",type:"POST",data:{errorPlacement:1},dataType:"json",success:function(e){$("#dialog").modal({style:e.style,text:e.text,reportError:e.reportError})}})}function r(e,t){$.ajax({url:"/ajax/admin/admin_functionality.php",type:"POST",data:{addError:t,type:e},success:function(e){n()}})}function i(e){var t=e.serialize();_button=e.find("button");_html=_button.html();$.ajax({type:"POST",url:"/ajax/ajax_submit.php",data:t,onSubmit:_button.html('<img src="/images/admin/ajax-loader.gif" /> Loading').addClass("disabled"),success:function(e){_button.remove();$(".data").html(e);r("message",e);n()},error:function(e,t,i){_button.html(_html);r("error","Something went wrong with out System. Please try again later");n()}})}function s(e){var t=e.serialize();_button=e.find("button");_html=_button.html();$.ajax({type:"POST",url:"/ajax/ajax_submit.php",data:t,onSubmit:_button.html('<img src="/images/admin/ajax-loader.gif" /> Loading').addClass("disabled"),success:function(e){_button.remove();$(".message").html(e)},error:function(e,t,i){_button.html(_html);r("error","Something went wrong with out System. Please try again later");n()}})}function o(e){var t=e.serialize();_button=e.children("p").children("button#checkout");_html=_button.html();$.ajax({type:"POST",url:"/ajax/ajax_submit.php",data:t,dataType:"json",onSubmit:_button.html('Processing <i class="icon-spinner icon-spin icon-large"></i>').addClass("disabled").attr("disabled","disabled"),success:function(e){$(".orderMessage").html(e);if(e.error!==""){$(".orderMessage").addClass("alert-error alert").html(e.error);_button.html(_html)}else window.location.href=e.refer},error:function(e,t,i){_button.html(_html);r("error","Something went wrong with out System. Please try again later");n()}})}n();_mobile=!1;$("html").hasClass("mobile")&&(_mobile=!0);_mobile&&$(".mobileButton").html("mobile: "+$(window).width());e();$("#navButton").click(function(e){e.preventDefault();$("body").hasClass("nav-open")?$("body").removeClass("nav-open"):$("body").addClass("nav-open")});$("html").hasClass("disabled")&&$("#restricted").modal();$("#modalRemove").click(function(){console.log("clicked");window.history.back()});var t;$(".quickNav ul li a").each(function(){$(this).html()==="Login"&&(t=$(this))});if(t!==undefined){t.click(function(e){$(".popupLogin").css("display","block").animate({height:300},1e3)});$(".icon-remove-sign").click(function(e){$(".popupLogin").animate({height:0},1e3,function(){$(".popupLogin").css("display","none")})})}$(".addPhone").live("click",function(e){e.preventDefault();$span=$(this).parent("span");$paragraph=$(this).parent("span").parent("p");$.ajax({url:"/ajax/admin/admin_functionality.php",type:"POST",data:{addPhone:1},success:function(e){$span.hide();$paragraph.after(e)}})});$(".alpha").live("click",function(e){e.preventDefault();_sel=$(this).attr("sel");$.ajax({url:"/ajax/ajax_submit.php",type:"POST",data:{supplementAlpha:_sel},success:function(e){$("#supplements").html(e)}})});$(".fpTabs article").click(function(){$(this).siblings("").removeClass("active").end().addClass("active")});$(".collapse-content").collapse();if($("html").has("#alphaButtons").length){console.log("Alpha exist");_win=$(window);_alpha=$("#alphaButtons");_spacer=_alpha.offset().top;_win.scroll(function(){if(!_alpha.hasClass("fix")&&_win.scrollTop()>_alpha.offset().top){_alpha.addClass("fix");_alpha.siblings(".span10").addClass("fixSibling")}else if(_alpha.hasClass("fix")&&_win.scrollTop()<_spacer){_alpha.removeClass("fix");_alpha.siblings(".span10").removeClass("fixSibling")}})}$("html").hasClass("mobile")||$("#search").autocomplete("/ajax/ajax_submit.php",{autofill:!0,matchSubset:!1,matchContains:!1,formatItem:function(e,t,n){return e[0]},formatMatch:function(e,t,n){return e[0]},formatResult:function(e){return e[0]},extraParams:{searchAutoComplete:1}});$(".pagination li a").live("click",function(e){e.preventDefault();if($(".pagination").attr("id")==="noSearch")return;$pageNumber=$(this).parent("li").attr("sel");$search=$(this).parent("li").parent("ul").attr("data-term");$classname=$(this).parent("li").parent("ul").attr("data-class");$.ajax({url:"/ajax/ajax_submit.php",type:"POST",data:{search:$search,pageNumber:$pageNumber,classname:$classname},success:function(e){$(".search-results").html(e)}})});$(".pagination li input").live("focusout",function(e){$search=$(this).parent("li").parent("ul").attr("sel");$pageNumber=$(this).val();$.ajax({url:"/ajax/ajax_submit.php",type:"POST",data:{search:$search,pageNumber:$pageNumber},success:function(e){$(".mainContent article").html(e)}})});$("form#formSubmit").live("submit",function(e){e.preventDefault();$(this).find("[placeholder]").each(function(){var e=$(this);e.val()==e.attr("placeholder")&&e.val("")});var t=$(this);validate(t);var n=1,r=t.children("fieldset").find(":input:not(button)").hasClass("hasError");r&&(n=-1);n==1&&i(t)});$(".honeyPot").prepend('<p class="checkbox"><input type="checkbox" name="real" id="real"  sel="" /><label>I am not a spam bot</label></p>');$("#loginSubmit").live("click",function(e){$("#formLogin").submit()});$("#formLogin").submit(function(e){e.preventDefault();var t=$(this).serialize();_button=$(this).find("button");_html=_button.html();$.ajax({type:"POST",url:"/ajax/ajax_submit.php",data:t,dataType:"json",onSubmit:_button.html('<img src="/images/admin/ajax-loader.gif" /> Loading').addClass("disabled"),success:function(e){if(e.refer!==null)document.location=e.refer;else if(e.error!==null){_button.html(_html).removeClass("disabled");$(".errors").html(e.error);$(".errors").addClass("label label-important")}},error:function(e,t,i){_button.html(_html);r("error","Something went wrong with out System. Please try again later");n()}})});$("form#formContact").live("submit",function(e){e.preventDefault();$(this).find("[placeholder]").each(function(){var e=$(this);e.val()==e.attr("placeholder")&&e.val("")});var t=$(this);validate(t);var n=1,r=t.children("fieldset").find(":input:not(button)").hasClass("hasError");r&&(n=-1);n==1&&s(t)});$("[placeholder]").focus(function(){var e=$(this);if(e.val()==e.attr("placeholder")){e.val("");e.removeClass("placeholder")}}).blur(function(){var e=$(this);if(e.val()===""||e.val()===e.attr("placeholder")){e.addClass("placeholder");e.val(e.attr("placeholder"))}}).blur();$(".add-to-cart").live("click",function(e){e.preventDefault();_itemNumber=$(this).attr("data-id");_price=$(this).attr("data-price");_this=$(this);$.ajax({type:"POST",url:"/ajax/ajax_submit.php",data:{addToCart:_itemNumber,price:_price},dataType:"json",success:function(e){$(".full-cart").html(e.cart);$(".mini-cart").html(e.mini);_this.html(e.button);_this.addClass("item-added")},error:function(e,t,i){console.log(i);r("error","Something went wrong with out System. Please try again later");n()}})});$(".openCart").live("click",function(e){e.preventDefault();$(".popupShoppingCart").slideDown(1e3)});$(".closeCart").live("click",function(e){e.preventDefault();$(".popupShoppingCart").slideUp(1e3)});$(".productQuantity").live("focusout",function(){_quan=$(this).val();_item=$(this).attr("data-product_id");_this=$(this);$.ajax({type:"POST",url:"/ajax/ajax_submit.php",data:{changeQuantity:_quan,ItemNumber:_item},dataType:"json",success:function(e){console.log(e);_this.parent("td").next(".price").text(e.singlePrice);_this.parent("td").siblings("#productPrice").val(e.formPrice);$(".totalPrice").html(e.totalPrice);$("#totalPrice").val(e.formTotal);$(".mini-cart").html(e.mini)},error:function(e,t,i){r("error","Something went wrong with out System. Please try again later");n()}})});$(".removeProduct").live("click",function(e){_item=$(this).attr("data-product_id");_this=$(this);$.ajax({type:"POST",url:"/ajax/ajax_submit.php",data:{removeProduct:1,ItemNumber:_item},dataType:"json",success:function(e){_this.parent("td").parent("tr").slideUp(500);$(".miniCart").html(e.mini);$(".totalPrice").html(e.totalPrice)},error:function(e,t,i){r("error","Something went wrong with out System. Please try again later");n()}})});$("form#orderSubmit").live("submit",function(e){e.preventDefault();var t=$(this);validate(t);var n=1,r=t.children("fieldset").find(":input:not(button)").hasClass("hasError");r&&(n=-1);n==1&&o($(this))});$(".cancelOrder").live("click",function(e){e.preventDefault();_id=$(this).attr("data-transId");_answer=confirm("Are you sure you want to cancel your order?");_button=$(this);_html=$(this).html();_answer&&$.ajax({type:"POST",url:"/ajax/ajax_submit.php",data:{cancelOrder:_id},dataType:"json",onSubmit:_button.html('<img src="/images/admin/ajax-loader.gif" />Cancelling Your Order').addClass("disabled").attr("disabled","disabled"),success:function(e){if(e.error!==null){console.log(e.error);r("error","We cannot cancel your order online at this time. Please call us to cancel your order.");n()}else window.location=e.refer},error:function(e,t,i){r("error","We cannot cancel your order online at this time. Please call us to cancel your order.");n()}})});if(_mobile){$(".cartButton").on("click",function(e){if($(this).hasClass("open")){$(this).removeClass("open");$(this).children("a").html("My Cart")}else{$(this).toggleClass("open");$(this).children("a").html("Close");e.preventDefault()}});$(".viewCheckout").on("click",function(e){window.location=$(this).attr("href")})}else $(".cartButton").hover(function(){$(".miniCart").toggleClass("active")},function(){$(".miniCart").toggleClass("active")});$(".fillCheckout").click(function(e){e.preventDefault();$("#first_name").val("Bob");$("#last_name").val("Sagat");$("#phone").val("469.556.9406");$(".email").val("bob@fullhouse.com");$("#address").val("1234 Any St.");$("#address2").val("suite 240");$("#city").val("Anytown");$("#state").val("44");$("#zip").val("66766");$("#ccnumber").val("4417119669820331");$("#cc_type").val("visa");$("#expire").val("10/16");$("#ccv").val("887");$("#cardName").val("Robert Sagat")});$(".fillJoin").click(function(){$("#first").val("Zack");$("#last").val("Davis");$("#email").val("zack2721@me.com");$("#phonenumber").val("469.556.9406");$("#address1").val("2721 Pinto Dr.");$("#address2").val("suite 240");$("#city").val("Denton");$("#state").val("44");$("#zip").val("76210");$("#password").val("12345");$("#confirmPassword").val("12345")});$(".clear-cart").click(function(e){e.preventDefault();_this=$(this);$.ajax({type:"POST",url:"/ajax/ajax_submit.php",data:{clearCart:1},success:function(e){document.location.reload()},error:function(e,t,i){r("error","We cannot cancel your order online at this time. Please call us to cancel your order.");n()}})})});